(this["webpackJsonpburguer-queen"]=this["webpackJsonpburguer-queen"]||[]).push([[0],{29:function(e,a,t){e.exports=t(42)},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(26),l=t.n(c),i=(t(7),t(5)),s=t(8),o=t(19),m=t(2),d=function(){return r.a.createElement("header",{className:"logoheader"},r.a.createElement("h1",{className:"title-logo"},"BURGUER QUEEN"),r.a.createElement("img",{src:"queenBurguer1.png",className:"img-logo",alt:"logo"}),r.a.createElement("nav",{className:"navbar-header navbar navbar-right"},r.a.createElement("ul",{className:"active navbar-brand navbar navbar-right"},r.a.createElement("li",null,r.a.createElement(i.b,{className:"linkis",to:"/KitchenView"}," Ordenes en espera "),r.a.createElement(i.b,{className:"linkis",to:"/ReadyView"}," Ordenes listas")))))},u=t(18),b=t.n(u);t(38);b.a.initializeApp({apiKey:"AIzaSyCQHizDST_D3mkJnrBntDXGa9mr_l9fFLI",authDomain:"reactproject-9baf3.firebaseapp.com",databaseURL:"https://reactproject-9baf3.firebaseio.com",projectId:"reactproject-9baf3",storageBucket:"reactproject-9baf3.appspot.com",messagingSenderId:"12844446518",appId:"1:12844446518:web:a7faeda7f59142c7587997",measurementId:"G-DR0LFD0X9F"});var E=b.a,p=t(10),f=function(e){var a=e.dataDeUnProducto,t=e.addProductsList,c=e.totClient,l=t,i=c,s=a,o=Object(n.useState)(0),d=Object(m.a)(o,2),u=d[0],b=d[1];var E=0;return r.a.createElement("li",{className:"menu-item-list"},r.a.createElement("p",{"data-testId":"idItem",className:"elements"},s.Descripcion),r.a.createElement("p",{"data-testId":"idItem",className:"numbers"},"S/.",s.Precio),r.a.createElement("button",{name:"lessQuantity",className:"less1",onClick:function(){b(0===u?0:u-1)}},r.a.createElement("img",{src:"less.jpg",className:"less",alt:"less"})),r.a.createElement("p",{className:"numbers","data-testid":"item"}," ",u),r.a.createElement("button",{className:"more",onClick:function(){b(u+1)}},r.a.createElement("img",{src:"plus.png",alt:"plus"})),r.a.createElement("p",{className:"numbers"},r.a.createElement("button",{className:"more",onClick:function(e){e.preventDefault();var a,t,n,r,c=u;a=s.id,t=s.Descripcion,n=s.Precio,""===(r=c)?alert("Falta ingresar la cantidad"):l({id:a,Descripcion:t,Precio:n,Cantidad:r}),function(e){var a=e.Precio;i(E+=a*u)}(s)}},r.a.createElement("img",{src:"flecha.png",className:"arrow",alt:"arrow"}))))};var v=function(e){var a=e.addProduct,t=e.totalClient,c=Object(n.useState)([]),l=Object(m.a)(c,2),i=l[0],s=l[1],o=Object(p.a)(E.firestore().collection("Products"),{snapshotListenOptions:{includeMetadataChanges:!0}}),d=Object(m.a)(o,2),u=d[0],b=d[1];function v(e){var a=u.docs.map((function(e){return{Categoria:e.data().Categoria,Descripcion:e.data().Descripcion,Precio:e.data().Precio,id:e.id}})).filter((function(a){return a.Categoria===e}));s(a)}return r.a.createElement("aside",{id:"menuClass",className:"menuClass"},r.a.createElement("div",{className:"titleTabs"},r.a.createElement("button",{className:"tablinks",onClick:function(e){e.preventDefault(),v("Desayuno")}},"DESAYUNO"),r.a.createElement("button",{className:"tablinks",onClick:function(e){e.preventDefault(),v("Menu")}},"MENU"),r.a.createElement("button",{className:"tablinks",onClick:function(e){e.preventDefault(),v("Acompa\xf1amientos")}},"ACOMPA\xd1AMIENTOS"),r.a.createElement("button",{className:"tablinks",onClick:function(e){e.preventDefault(),v("Bebidas")}},"BEBIDAS")),r.a.createElement("div",{className:"tabContent"},r.a.createElement("ul",{className:"menu-list"},b?"Cargando productos...":i.map((function(e){return r.a.createElement(f,{"data-testid":"IdItem",key:e.id,dataDeUnProducto:e,addProductsList:a,totClient:t})})))))},N=function(e){var a=e.data,t=e.delOrderProduct,n=a.id,c=a.Descripcion,l=a.Precio,i=a.Cantidad;return r.a.createElement("li",{className:"menu-item-list-order"},r.a.createElement("p",{className:"numbers","data-testid":"item"}," ",i),r.a.createElement("p",{className:"elements","data-testid":"item"},c),r.a.createElement("p",{className:"numbers","data-testid":"item"}," ",l),r.a.createElement("button",{onClick:function(e){e.preventDefault(),t(n)},className:"numbers"},r.a.createElement("img",{src:"delete-forever.png",className:"btnDelete",alt:"delete"})))},g=function(e){var a=e.productsOrder,t=e.totalClient,c=e.resetOrder,l=e.sendOrder,i=e.delProduct,s=Object(n.useState)(""),o=Object(m.a)(s,2),d=o[0],u=o[1];return r.a.createElement("section",{className:"orderClass"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("span",{className:"label label-danger"},"Nombre del cliente:")," ",r.a.createElement("input",{className:"input-name",onChange:function(e){var a=e.target.value;u(a)},value:d})),r.a.createElement("br",null),r.a.createElement("div",{className:"titleTabsOrder"},r.a.createElement("button",null,"Cantidad"),r.a.createElement("button",null,"Producto"),r.a.createElement("button",null,"Precio (S/.)"),r.a.createElement("button",null,"Eliminar")),r.a.createElement("div",{className:"tabContentOrder"},r.a.createElement("ul",{className:"menu-list-order"},a.map((function(e,a){return r.a.createElement(N,{"data-testid":"item",key:a,data:e,delOrderProduct:i})}))),r.a.createElement("div",{className:"total"},r.a.createElement("label",null,"TOTAL"),r.a.createElement("p",null,"S/.",t)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){if(""===d)alert("Ingrese nombre del cliente");else{console.log(a);var e={Cliente:d,Order:a,Total:t,Fecha:new Date};console.log(e),l(e),c(),u(""),alert("La orden se envi\xf3 con \xe9xito")}}},"ENVIAR ORDEN"))))};var O=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(0),i=Object(m.a)(l,2),s=i[0],u=i[1];return r.a.createElement("main",{className:"display-flex"},r.a.createElement(d,null),r.a.createElement(v,{addProduct:function(e){var a=[].concat(Object(o.a)(t),[e]);c(a)},totalClient:function(e){u(s+e)},resetCant:t}),r.a.createElement(g,{productsOrder:t,delProduct:function(e){var a=t.find((function(a){return a.id===e})),n=t.indexOf(a),r=t.splice(n,1),l=r.map((function(e){return e.Precio}))[0],i=r.map((function(e){return e.Cantidad}))[0],m=s-l*i,d=Object(o.a)(t);c(d),u(m)},totalClient:s,sendOrder:function(e){E.firestore().collection("orders").add({obj:e}).then((function(e){console.log(e.id),E.firestore().collection("orders").doc(e.id).update({ID:e.id,Estado:"",Tiempo_Espera:""})}))},resetOrder:function(){c([]),u(0)}}))},h=function(e){var a=e.descOrder,t=a.Producto,n=a.Cantidad;return r.a.createElement("li",{className:"card bg-info "},r.a.createElement("p",{"data-testid":"IdItem"}," ",n," ",t))},C=function(e){var a=e.dataProduct,t=a.Nombre,c=a.Pedido,l=a.Fecha,i=a.ID,s=Object(n.useState)(""),o=Object(m.a)(s,2),d=o[0],u=o[1];return r.a.createElement("li",{className:"card bg-warning "},r.a.createElement("ul",null,r.a.createElement("span",null,r.a.createElement("p",{"data-testid":"IdItem"},r.a.createElement("label",null,"Cliente:")," ",t)),r.a.createElement("p",{"data-testid":"IdItem"},r.a.createElement("label",null,"Toma de pedido: ")," ",l),r.a.createElement("label",null,"Estado del Pedido:  "),r.a.createElement("input",{type:"checkbox",className:"chkbox",onChange:function(){var e=(new Date).toString(),a=new Date(e.substring(0,e.indexOf("GMT"))),t=new Date(l),n=function(e){var a=Math.floor(e/3600);a=a<10?"0"+a:a;var t=Math.floor(e/60%60),n=e%60;return a+":"+(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}((a.getTime()-t.getTime())/1e3);u(n),E.firestore().collection("orders").doc(i).update({Estado:"listo",Tiempo_Espera:n})}}),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("label",null,"Tiempo de espera: "),r.a.createElement("p",null,d)),r.a.createElement("div",{className:"colorDetOrd"},r.a.createElement("label",null,"Detalle del Pedido"),c.map((function(e,a){return r.a.createElement(h,{"data-testid":"IdItem",key:"index",descOrder:e})})))))},D=(t(25),function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(p.b)(E.firestore().collection("orders").orderBy("obj.Fecha","asc")),s=Object(m.a)(l,1)[0];return r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"navbar-brand navbar-header navbar-fixed-top navbar-right"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("ul",{className:"active navbar-brand navbar-right"},r.a.createElement("li",{className:"view"},r.a.createElement(i.b,{to:"/OrderView"},r.a.createElement("img",{src:"back2.jpeg",className:"back",alt:"back"})))),r.a.createElement("button",{className:"btn btn-danger navbar-btn navbar-brand navbar-header",onClick:function(e){e.preventDefault(),function(){var e=s.filter((function(e){return""===e.Estado})).map((function(e){var a=e.obj.Fecha.toDate().toString();return{ID:e.ID,Estado:e.Estado,Nombre:e.obj.Cliente,Fecha:a.substring(0,a.indexOf("GMT")),Pedido:e.obj.Order.map((function(e){return{Producto:e.Descripcion,Cantidad:e.Cantidad}}))}}));c(e)}()}},"Mostrar Ordenes en espera")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card-columns"},r.a.createElement("ul",null,t.map((function(e,a){return r.a.createElement(C,{key:a,dataProduct:e})})))))))))}),j=function(){return r.a.createElement("main",{className:"container"},r.a.createElement(D,null))},I=function(e){var a=e.dataProduct,t=a.Nombre,n=a.Estado,c=a.Pedido;return r.a.createElement("li",{className:"card bg-warning "},r.a.createElement("ul",null,r.a.createElement("span",null,r.a.createElement("p",{"data-testid":"IdItem"},r.a.createElement("label",null,"Cliente:")," ",t)),r.a.createElement("p",{"data-testid":"IdItem"},r.a.createElement("label",null,"Estado del Pedido:  "),n),r.a.createElement("div",{className:"colorDetOrd"},r.a.createElement("label",null,"Detalle del Pedido"),c.map((function(e,a){return r.a.createElement(h,{key:"index","data-testid":"IdItem",descOrder:e})})))))},k=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(p.b)(E.firestore().collection("orders").orderBy("obj.Fecha","asc")),s=Object(m.a)(l,1)[0];return r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"navbar-brand navbar-header navbar-fixed-top navbar-right"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("ul",{className:"active navbar-brand navbar-right"},r.a.createElement("li",{className:"view"},r.a.createElement(i.b,{to:"/OrderView"},r.a.createElement("img",{src:"back2.jpeg",className:"back",alt:"back"})))),r.a.createElement("button",{className:"btn btn-danger navbar-btn navbar-brand navbar-header",onClick:function(e){e.preventDefault(),function(){var e=s.filter((function(e){return"listo"===e.Estado})).map((function(e){var a=e.obj.Fecha.toDate().toString();return{ID:e.ID,Estado:e.Estado,Nombre:e.obj.Cliente,Fecha:a.substring(0,a.indexOf("GMT")),Pedido:e.obj.Order.map((function(e){return{Producto:e.Descripcion,Cantidad:e.Cantidad}}))}}));c(e)}()}},"Mostrar Ordenes listas")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card-columns"},r.a.createElement("ul",{"data-testid":"IdItem"},t.map((function(e,a){return r.a.createElement(I,{key:a,dataProduct:e})})))))))))},P=function(){return r.a.createElement("main",{className:"container"},r.a.createElement(k,null))},w=function(){return r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:O}),r.a.createElement(s.a,{exact:!0,path:"/OrderView",component:O}),r.a.createElement(s.a,{exact:!0,path:"/KitchenView",component:j}),r.a.createElement(s.a,{exact:!0,path:"/ReadyView",component:P})))};var S=function(){return r.a.createElement("div",{className:"display-flex"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,a,t){}},[[29,1,2]]]);
//# sourceMappingURL=main.009f13a0.chunk.js.map